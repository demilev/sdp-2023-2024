# Тема 4, Рекурсия чрез стек, 30.10.2023


## Елиминиране на рекурсия със стек

```c++
std::stack<T> stack;
stack.push(firstObject);

while (!stack.empty()) {

    T obj = stack.top(); stack.pop();

    // ...
    stack.push(nextObj);
}
```

1. За всяко рекурсивно извикване слагаме обект с необходимата информация/контектс на стека.

2. За всяко връщане от рекурсивна фунцкия извършваме pop() операция върху стека.

3. Обхождаме в цикъл, докато не изпразним стека.


## Задачи

### Зад. 1 - [Решение](solutions/task01/task01.cpp)

Припомнете си [задачата за намиране на път в лабиринт](https://github.com/demilev/up-2022-2023/blob/main/week09/tasks.md#%D0%B7%D0%B0%D0%B4-9---%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5). Променете решението от рекурсивно в итеративно, използвайки стек.  


### Зад. 2 - [Решение](solutions/task02/task02.cpp)

Напишете програма за изчисляване на опростен израз. В изразът има следните операции

* число `x`
* операция `+` - записва ново число, което е резултат от сумата на последните две
* операция `D` - удвоява последното число
* операция `C` - премахва последното число

Пример:
```
Вход: ["5","2","C","D","+"]

"5" - Добавяме 5 към резултата [5].
"2" - Добавяме 2 към резултата [5, 2].
"C" - Премахваме 2 от резултата [5].
"D" - Удвоява последното число 2 * 5 = 10 и го добавя към резултата [5, 10].
"+" - Събира последните две числа и ги добавя към резултата [5, 10, 15].
Крайният изход е  5 + 10 + 15 = 30.
```


### Зад. 3 - [Решение](solutions/task03/task03.cpp)

Напишете програма, която по подаден списък от хора и приятеслтвата между тях, отпечатва на екрана групите от приятели. Моделирайте хората като числа и нека за всеки човек пазим списък от хората, които са му приятели. Приемете, че приятелството е двустранно.

Пример:
```
Хора: [0, 1, 2, 3, 4]
Приятелства: [[3, 4], [2], [1], [0, 4], [0, 3]] - на индекс i, стои списък с всички приятели на човек i

Изход:
Група 1
0
3
4
Група 2
1
2
```

### Зад. 4 - [Решение](solutions/task04/task04.cpp)

По поданени височини на блокчета с ширина 1, напишете програма, която изчислява колко вода могат да задържат след валеж.

Пример:

<br/>

![Diagram](content/rainwatertrap.png)

<br/>

```
Вход: [0,1,0,2,1,0,1,3,2,1,2,1] - височини на бокчетата
Изход: 6

Черните блокчета на картинката са представени чрез височините си [0,1,0,2,1,0,1,3,2,1,2,1]. В този случай 6 единици вода мога да бъдат задържани от тази конструкция.
```

### Зад. 5 - [Решение](solutions/task05/task05.cpp)

Напишете програма, която намира план за изпълняване на задачи, които имат зависимости помежду си.

Пример:

```
Задачи: [0, 1, 2, 3, 4]
Зависимости: [[3, 4], [2], [], [4], []] - на позиция i стои списък от задачите, преди които трябва да бъде изпълнена задача i

Изход:
0 3 4 1 2

Друг възможен план:
1 2 0 3 4
```